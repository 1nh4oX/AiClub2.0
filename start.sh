#!/bin/bash

# ============================================
# Coze OAuth Token Server + Frontend å¯åŠ¨è„šæœ¬
# ============================================
#
# ä½¿ç”¨æ–¹æ³•:
#   chmod +x start.sh  # é¦–æ¬¡éœ€è¦æ·»åŠ æ‰§è¡Œæƒé™
#   ./start.sh
#
# æˆ–è€…ç›´æ¥ä½¿ç”¨ npm:
#   npm start
#

echo "ğŸš€ æ­£åœ¨å¯åŠ¨ AI Club 2.0 é¡¹ç›®..."
echo ""

# æ£€æŸ¥ node_modules æ˜¯å¦å­˜åœ¨
if [ ! -d "node_modules" ]; then
    echo "ğŸ“¦ æ£€æµ‹åˆ°æœªå®‰è£…ä¾èµ–ï¼Œæ­£åœ¨å®‰è£…..."
    npm install
    echo ""
fi

# æ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„ä¾èµ–éœ€è¦å®‰è£…
echo "ğŸ“¦ æ£€æŸ¥ä¾èµ–æ›´æ–°..."
npm install

echo ""
echo "============================================"
echo "ğŸŒ å‰ç«¯åœ°å€: http://localhost:5173"
echo "ğŸ” Token Server: http://localhost:3001"
echo "============================================"
echo ""
echo "æŒ‰ Ctrl+C åœæ­¢æ‰€æœ‰æœåŠ¡"
echo ""

# åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯
npm start
